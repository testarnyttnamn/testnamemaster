define: &solver camb
Cobaya:
  # Documentation about Cobaya keys can be found at:
  # https://cobaya.readthedocs.io/en/latest/cosmo_basic_runs.html
  debug: false
  force: true
  # keep params dict empty, as they will be read in from CosmoSIS
  params: {}
  # sampler MUST BE EVALUATE
  sampler:
      evaluate:
  # solver is CAMB for now
  theory: 
    camb:
      stop_at_error: True
      extra_args: 
        num_massive_neutrinos: 1
        dark_energy_model: 'ppf'
        # AccuracyBoost: 2.0
  timing: False
  likelihood:
    Euclid:
      aliases:
      - euclid
      external: !!python/name:cloe.cobaya_interface.EuclidLikelihood 
      # Speed in evaluations/second
      speed: 500
      # k values for extrapolation of the matter power spectrum
      k_max_extrap: 500.0
      k_min_extrap: 0.0001
      k_samp: 1000
      # z limit values and size for the z-array
      z_min: 0.0
      z_max: 4.0
      z_samp: 100
      # Flag to make the choice of the sampler visible to cloe
      solver: camb
      # Nonlinear flag selectors
      # Photometric matter flag
      #     0 -> linear-only
      #     1 -> Halofit (Takahashi)
      #     2 -> Mead2020 (w/o baryon corrections)
      #     3 -> Euclid Emulator 2
      #     4 -> BACCO (matter)
      NL_flag_phot_matter: 0
      # Spectroscopic flag
      #     0 -> linear-only
      #     1 -> EFT
      NL_flag_spectro: 0
      # Bias Model
      bias_model: 1
      # Magnification bias model
      #     1 -> linear interpolation
      #     2 -> constant within bins
      magbias_model: 2
      # Select statistics for spectroscopic probes (legendre_multipole_power_spectrum
      # or legendre_multipole_correlation_function)
      statistics_spectro: legendre_multipole_power_spectrum
      # Add RSD to photometric probes
      add_phot_RSD: False
      # Use MG gamma
      use_gamma_MG: False
      # Redshift dependent purity correction
      f_out_z_dep: False
      # Plot the selected observables during the initialization of the likelihood
      plot_observables_selection: False
      # Switch to allow for matrix transformations of theory and data vectors ('BNT' or 'BNT-test)
      matrix_transform_phot: False
      ##
      # The user can overwrite here the values of
      # the fields data, observables_selection, and observables_specifications:
      # by specifying a dictionary (in yaml format)
      # Please note that if specifying a dictionary, all the fields must be present
      ##
      # Information about where the data is stored
      data:  #'sample' specifies the first folder below the main data folder
                        sample: ExternalBenchmark
                        #spectro and photo specify paths to data files.
                        spectro: 
                            # GC Spectro root name should contain z{:s} string
                            # to enable iteration over bins
                            root: cov_power_galaxies_dk0p004_z{:s}.fits
                            redshifts: ["1.", "1.2", "1.4", "1.65"]
                            edges: [0.9, 1.1, 1.3, 1.5, 1.8]
                            cov_is_num: False
                            cov_nsim: 3500
                        photo: 
                            redshifts: [0.2095, 0.489, 0.619, 0.7335, 0.8445, 0.9595, 1.087, 1.2395, 1.45, 2.038]
                            ndens_GC: niTab-EP10-RB00.dat
                            ndens_WL: niTab-EP10-RB00.dat
                            luminosity_ratio: luminosity_ratio.dat
                            # Photometric root names should contain z{:s} string
                            # to specify IA model
                            root_GC: Cls_{:s}_PosPos.dat
                            root_WL: Cls_{:s}_ShearShear.dat
                            root_XC: Cls_{:s}_PosShear.dat
                            IA_model: zNLA
                            # Photometric covariances root names should contain z{:s} string
                            # to specify how the covariance was calculated
                            cov_GC: CovMat-PosPos-{:s}-20Bins.npy
                            cov_WL: CovMat-ShearShear-{:s}-20Bins.npy
                            cov_3x2pt: CovMat-3x2pt-{:s}-20Bins.npy
                            cov_model: Gauss 
                            cov_is_num: False
                            cov_nsim: 10000
      # Selection of the observables to be computed
      observables_selection:                       
                          WL:
                            WL: True
                            GCphot: False
                            GCspectro: False
                          GCphot:
                            GCphot: False
                            GCspectro: False
                          GCspectro:
                            GCspectro: False
      # Specifications for each of the observables
      observables_specifications:
        GCphot:
          statistics: angular_power_spectrum
          bins:
            n1: 
              n1: 
                ell_range: [[20, 4000]]
              n2: 
                ell_range: [[20, 4000]]
              n3: 
                ell_range: [[20, 4000]]
              n4: 
                ell_range: [[20, 4000]]
              n5: 
                ell_range: [[20, 4000]]
              n6: 
                ell_range: [[20, 4000]]
              n7: 
                ell_range: [[20, 4000]]
              n8: 
                ell_range: [[20, 4000]]
              n9: 
                ell_range: [[20, 4000]]
              n10: 
                ell_range: [[20, 4000]]
            n2: 
              n2: 
                ell_range: [[20, 4000]]
              n3: 
                ell_range: [[20, 4000]]
              n4: 
                ell_range: [[20, 4000]]
              n5: 
                ell_range: [[20, 4000]]
              n6: 
                ell_range: [[20, 4000]]
              n7: 
                ell_range: [[20, 4000]]
              n8: 
                ell_range: [[20, 4000]]
              n9: 
                ell_range: [[20, 4000]]
              n10: 
                ell_range: [[20, 4000]]
            n3: 
              n3: 
                ell_range: [[20, 4000]]
              n4: 
                ell_range: [[20, 4000]]
              n5: 
                ell_range: [[20, 4000]]
              n6: 
                ell_range: [[20, 4000]]
              n7: 
                ell_range: [[20, 4000]]
              n8: 
                ell_range: [[20, 4000]]
              n9: 
                ell_range: [[20, 4000]]
              n10: 
                ell_range: [[20, 4000]]
            n4: 
              n4: 
                ell_range: [[20, 4000]]
              n5: 
                ell_range: [[20, 4000]]
              n6: 
                ell_range: [[20, 4000]]
              n7: 
                ell_range: [[20, 4000]]
              n8: 
                ell_range: [[20, 4000]]
              n9: 
                ell_range: [[20, 4000]]
              n10: 
                ell_range: [[20, 4000]]
            n5: 
              n5: 
                ell_range: [[20, 4000]]
              n6: 
                ell_range: [[20, 4000]]
              n7: 
                ell_range: [[20, 4000]]
              n8: 
                ell_range: [[20, 4000]]
              n9: 
                ell_range: [[20, 4000]]
              n10: 
                ell_range: [[20, 4000]]
            n6: 
              n6: 
                ell_range: [[20, 4000]]
              n7: 
                ell_range: [[20, 4000]]
              n8: 
                ell_range: [[20, 4000]]
              n9: 
                ell_range: [[20, 4000]]
              n10: 
                ell_range: [[20, 4000]]
            n7: 
              n7: 
                ell_range: [[20, 4000]]
              n8: 
                ell_range: [[20, 4000]]
              n9: 
                ell_range: [[20, 4000]]
              n10: 
                ell_range: [[20, 4000]]
            n8: 
              n8: 
                ell_range: [[20, 4000]]
              n9: 
                ell_range: [[20, 4000]]
              n10: 
                ell_range: [[20, 4000]]
            n9: 
              n9: 
                ell_range: [[20, 4000]]
              n10: 
                ell_range: [[20, 4000]]
            n10: 
              n10: 
                ell_range: [[20, 4000]]


        GCspectro: 
            statistics: legendre_multipole_power_spectrum
            bins:
                  n1: 
                    n1:
                      multipoles:
                        0:
                          k_range: [[0.01, 0.5]]
                        2: 
                          k_range: [[0.01, 0.5]]
                        4:
                          k_range: [[0.01, 0.5]]
                  n2: 
                    n2:
                      multipoles:
                        0:
                          k_range: [[0.01, 0.5]]
                        2:
                          k_range: [[0.01, 0.5]]
                        4:
                          k_range: [[0.01, 0.5]]
                  n3: 
                    n3: 
                      multipoles:
                        0:
                          k_range: [[0.01, 0.5]]
                        2:
                          k_range: [[0.01, 0.5]]
                        4:
                          k_range: [[0.01, 0.5]]
                  n4: 
                    n4:
                      multipoles:
                        0:
                          k_range: [[0.01, 0.5]]
                        2:
                          k_range: [[0.01, 0.5]]
                        4:
                          k_range: [[0.01, 0.5]]

        WL: 
            statistics: angular_power_spectrum
            bins:
                  n1: 
                    n1: 
                      ell_range: [[20, 4000]]
                    n2: 
                      ell_range: [[20, 4000]]
                    n3: 
                      ell_range: [[20, 4000]]
                    n4: 
                      ell_range: [[20, 4000]]
                    n5: 
                      ell_range: [[20, 4000]]
                    n6: 
                      ell_range: [[20, 4000]]
                    n7: 
                      ell_range: [[20, 4000]]
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n2: 
                    n2: 
                      ell_range: [[20, 4000]]
                    n3: 
                      ell_range: [[20, 4000]]
                    n4: 
                      ell_range: [[20, 4000]]
                    n5: 
                      ell_range: [[20, 4000]]
                    n6: 
                      ell_range: [[20, 4000]]
                    n7: 
                      ell_range: [[20, 4000]]
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n3: 
                    n3: 
                      ell_range: [[20, 4000]]
                    n4: 
                      ell_range: [[20, 4000]]
                    n5: 
                      ell_range: [[20, 4000]]
                    n6: 
                      ell_range: [[20, 4000]]
                    n7: 
                      ell_range: [[20, 4000]]
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n4: 
                    n4: 
                      ell_range: [[20, 4000]]
                    n5: 
                      ell_range: [[20, 4000]]
                    n6: 
                      ell_range: [[20, 4000]]
                    n7: 
                      ell_range: [[20, 4000]]
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n5: 
                    n5: 
                      ell_range: [[20, 4000]]
                    n6: 
                      ell_range: [[20, 4000]]
                    n7: 
                      ell_range: [[20, 4000]]
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n6: 
                    n6: 
                      ell_range: [[20, 4000]]
                    n7: 
                      ell_range: [[20, 4000]]
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n7: 
                    n7: 
                      ell_range: [[20, 4000]]
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n8: 
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n9: 
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n10: 
                    n10: 
                      ell_range: [[20, 4000]]

        WL-GCphot: 
            statistics: angular_power_spectrum
            bins:
                  n1: 
                    n1: 
                      ell_range: [[20, 4000]]
                    n2: 
                      ell_range: [[20, 4000]]
                    n3: 
                      ell_range: [[20, 4000]]
                    n4: 
                      ell_range: [[20, 4000]]
                    n5: 
                      ell_range: [[20, 4000]]
                    n6: 
                      ell_range: [[20, 4000]]
                    n7: 
                      ell_range: [[20, 4000]]
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n2:
                    n1: 
                      ell_range: [[20, 4000]]
                    n2: 
                      ell_range: [[20, 4000]]
                    n3: 
                      ell_range: [[20, 4000]]
                    n4: 
                      ell_range: [[20, 4000]]
                    n5: 
                      ell_range: [[20, 4000]]
                    n6: 
                      ell_range: [[20, 4000]]
                    n7: 
                      ell_range: [[20, 4000]]
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n3:
                    n1: 
                      ell_range: [[20, 4000]]
                    n2: 
                      ell_range: [[20, 4000]]
                    n3: 
                      ell_range: [[20, 4000]]
                    n4: 
                      ell_range: [[20, 4000]]
                    n5: 
                      ell_range: [[20, 4000]]
                    n6: 
                      ell_range: [[20, 4000]]
                    n7: 
                      ell_range: [[20, 4000]]
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n4: 
                    n1: 
                      ell_range: [[20, 4000]]
                    n2: 
                      ell_range: [[20, 4000]]
                    n3: 
                      ell_range: [[20, 4000]]
                    n4: 
                      ell_range: [[20, 4000]]
                    n5: 
                      ell_range: [[20, 4000]]
                    n6: 
                      ell_range: [[20, 4000]]
                    n7: 
                      ell_range: [[20, 4000]]
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n5: 
                    n1: 
                      ell_range: [[20, 4000]]
                    n2: 
                      ell_range: [[20, 4000]]
                    n3: 
                      ell_range: [[20, 4000]]
                    n4: 
                      ell_range: [[20, 4000]]
                    n5: 
                      ell_range: [[20, 4000]]
                    n6: 
                      ell_range: [[20, 4000]]
                    n7: 
                      ell_range: [[20, 4000]]
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n6:
                    n1: 
                      ell_range: [[20, 4000]]
                    n2: 
                      ell_range: [[20, 4000]]
                    n3: 
                      ell_range: [[20, 4000]]
                    n4: 
                      ell_range: [[20, 4000]]
                    n5: 
                      ell_range: [[20, 4000]]
                    n6: 
                      ell_range: [[20, 4000]]
                    n7: 
                      ell_range: [[20, 4000]]
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n7: 
                    n1: 
                      ell_range: [[20, 4000]]
                    n2: 
                      ell_range: [[20, 4000]]
                    n3: 
                      ell_range: [[20, 4000]]
                    n4: 
                      ell_range: [[20, 4000]]
                    n5: 
                      ell_range: [[20, 4000]]
                    n6: 
                      ell_range: [[20, 4000]]
                    n7: 
                      ell_range: [[20, 4000]]
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n8: 
                    n1: 
                      ell_range: [[20, 4000]]
                    n2: 
                      ell_range: [[20, 4000]]
                    n3: 
                      ell_range: [[20, 4000]]
                    n4: 
                      ell_range: [[20, 4000]]
                    n5: 
                      ell_range: [[20, 4000]]
                    n6: 
                      ell_range: [[20, 4000]]
                    n7: 
                      ell_range: [[20, 4000]]
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n9: 
                    n1: 
                      ell_range: [[20, 4000]]
                    n2: 
                      ell_range: [[20, 4000]]
                    n3: 
                      ell_range: [[20, 4000]]
                    n4: 
                      ell_range: [[20, 4000]]
                    n5: 
                      ell_range: [[20, 4000]]
                    n6: 
                      ell_range: [[20, 4000]]
                    n7: 
                      ell_range: [[20, 4000]]
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]
                  n10: 
                    n1: 
                      ell_range: [[20, 4000]]
                    n2: 
                      ell_range: [[20, 4000]]
                    n3: 
                      ell_range: [[20, 4000]]
                    n4: 
                      ell_range: [[20, 4000]]
                    n5: 
                      ell_range: [[20, 4000]]
                    n6: 
                      ell_range: [[20, 4000]]
                    n7: 
                      ell_range: [[20, 4000]]
                    n8: 
                      ell_range: [[20, 4000]]
                    n9: 
                      ell_range: [[20, 4000]]
                    n10: 
                      ell_range: [[20, 4000]]

        # Note: This is not yet provided by CLOE
        # therefore it will load empty dictionaries
        GCphot-GCspectro: 
        WL-GCspectro: 
